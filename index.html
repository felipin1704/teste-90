<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Ficha de Treino</title>

  <!-- âœ… cache-buster: MUDA a cada atualizaÃ§Ã£o -->
  <link rel="stylesheet" href="./style.css?v=20260220-1" />
</head>

<body class="mode-home">
  <div class="page">

    <header class="topbar">
      <div class="brand">
        <div class="brand-text">
          <h1>ğŸ’ª Ficha de Treino</h1>
          <p class="sub">Registre cargas, veja evoluÃ§Ã£o e tenha sugestÃ£o automÃ¡tica de progressÃ£o.</p>
        </div>
      </div>

      <div class="topbar-actions">
        <div class="chip chip-accent">
          <span class="chip-muted">Home</span>
          <span class="chip-strong">Escolha um treino</span>
        </div>
      </div>
    </header>

    <!-- HOME -->
    <section class="home" id="home">
            <div class="home-hero home-start">
        <div class="hero-kicker hero-title-big">Escolha seu treino</div>

        <div class="hero-form">
          <div class="hero-field">
            <label for="goalSelect">ğŸ¯ Objetivo</label>
            <select id="goalSelect">
              <option value="hipertrofia">Hipertrofia</option>
              <option value="forca">ForÃ§a</option>
              <option value="emagrecimento">Emagrecimento</option>
            </select>
          </div>

          <div class="hero-field">
            <label for="levelSelect">ğŸ“ˆ NÃ­vel</label>
            <select id="levelSelect">
              <option value="iniciante">Iniciante</option>
              <option value="intermediario" selected>IntermediÃ¡rio</option>
              <option value="avancado">AvanÃ§ado</option>
            </select>
          </div>

          <div class="hero-field">
            <label for="focusSelect">ğŸ‹ï¸ Tipo</label>
            <select id="focusSelect">
              <option value="superior">Superior</option>
              <option value="inferior" selected>Inferior</option>
            </select>
          </div>
        </div>

        <div class="hero-quote" id="fraseMotivacional">â€œHoje Ã© dia de evoluir.â€</div>

        <button class="hero-btn" id="btnComecarTreino" type="button" onclick="iniciarTreinoHome()">
          ğŸš€ ComeÃ§ar treino
        </button>

        <button class="hero-btn hero-btn-secondary" id="btnAbrirBiblioteca" type="button" onclick="abrirSelecaoDiaBuilder()">
          ğŸ§© Montar treino do dia
        </button>

        <button class="hero-btn hero-btn-secondary" id="btnAbrirTreinosSalvos" type="button" onclick="abrirTreinosSalvos()">
          â­ Treino salvo
        </button>

        
        <button class="hero-btn hero-btn-secondary" id="btnGerarDivisao" type="button" onclick="gerarDivisaoAutomatica()">
          âœ¨ Gerar divisÃ£o automÃ¡tica
        </button>
<div class="hero-pick" id="treinoSelecionadoLabel">Dica: escolha objetivo, nÃ­vel e tipo para recomendar seu treino.</div>
      </div>

      <!-- BIBLIOTECA / MONTADOR -->
      <section class="builder card" id="builder" aria-hidden="true">
        <div class="builder-top">
          <div>
            <h2 class="builder-title">Biblioteca de ExercÃ­cios</h2>
            <p class="builder-sub">Busque, filtre e selecione os exercÃ­cios do dia.</p>

            <!-- âœ… Dia selecionado (opcional) -->
            <div id="builderSelectedDay" class="builder-day-label" style="display:none;"></div>
          </div>
          <button class="btn ghost builder-close" type="button" onclick="fecharBiblioteca()">âœ– Fechar</button>
        </div>

        <!-- âœ… CONTROLES MOVIDOS PARA CIMA (sem precisar rolar tudo) -->
        <div class="builder-quick">
          <div class="builder-bottom">
            <div class="builder-count" id="builderCount">0 selecionados</div>
            <div class="builder-actions">
              <button class="btn" type="button" onclick="limparBiblioteca()">Limpar</button>
              <button class="btn success" id="btnComecarMontado" type="button" onclick="comecarTreinoMontado()">ğŸš€ ComeÃ§ar treino</button>
            </div>
          </div>

          <div class="builder-save">
            <input class="builder-save-input" id="builderWorkoutName" type="text" placeholder="ğŸ’¾ Nome do treino (ex: Pernas A)"/>
            <button class="btn primary" id="btnSalvarTreinoMontado" type="button" onclick="salvarTreinoMontado()">â­ Salvar treino</button>
          </div>

          <div class="builder-saved" id="builderSavedWrap">
            <div class="builder-saved-top">
              <div class="builder-saved-title">Treinos salvos</div>
              <button class="btn ghost" type="button" onclick="limparTreinosSalvos()">Limpar</button>
            </div>
            <div class="builder-saved-list" id="builderSavedList"></div>
          </div>
        </div>

        <!-- Busca + filtros -->
        <div class="builder-controls">
          <input class="builder-search" id="builderSearch" type="text" placeholder="ğŸ” Buscar exercÃ­cio (ex: supino, agachamento)"/>
          <div class="builder-filters" id="builderFilters"></div>
        </div>

        <!-- Lista -->
        <div class="builder-list" id="builderList"></div>
      </section>

            <details class="home-details">
        <summary class="home-details-summary">Ver treinos completos</summary>
        <div class="home-grid" id="listaTreinos">
        <button class="card train" data-treino="Inferior 1" type="button" onclick="selecionarTreino('Inferior 1')">
          <div class="train-top"><h3>ğŸ¦µ Treino Completo Inferior 1</h3><span class="arrow">â†’</span></div>
      </details>
    </section>

    <!-- WORKAREA -->
    <section class="workarea" id="workarea">
      <div class="card progresso" id="progressoGeral">
        <div class="prog-top">
          <div id="progressoTexto">Progresso: 0/0 sÃ©ries</div>
          <div id="progressoPct">0%</div>
        </div>
        <div class="prog-bar">
          <div class="prog-fill" id="progressoFill" style="width:0%"></div>
        </div>
      </div>

      <div class="acoes" id="acoes">
        <div class="acoes-left">
          <button class="btn" type="button" onclick="salvarSessao()">ğŸ’¾ Salvar treino</button>
          <button class="btn success" type="button" onclick="finalizarTreino()">âœ… Finalizar</button>
        </div>
        <div class="acoes-right">
          <div class="chip" id="volumeTotalChip">ğŸ”¥ Volume do dia: 0 kg</div>
          <canvas id="miniChart" class="mini-chart" width="220" height="64"></canvas>
        </div>
      </div>

      <div class="card cronometro" id="cronometro">
        <div class="cron-top">
          <div id="cronometroTexto">â±ï¸ Descanso: 0s</div>
          <button class="btn ghost" type="button" onclick="pararDescanso()">âœ– Parar</button>
        </div>
        <div class="prog-bar">
          <div class="prog-fill" id="barraProgresso" style="width:0%"></div>
        </div>
      </div>

      <main id="treino"></main>

      <footer class="rodape">
        <span>âš¡ Dica: tente bater o topo da faixa de reps para subir a carga automaticamente.</span>
      </footer>
    </section>

  </div>

  <nav class="bottom-nav" id="bottomNav">
    <button class="bn-item" id="bnHome" type="button" onclick="mostrarHome()">
      <span class="bn-ico">ğŸ </span><span class="bn-txt">Home</span>
    </button>
    <button class="bn-item" id="bnTreino" type="button" onclick="voltarTreinoAtual()">
      <span class="bn-ico">ğŸ’ª</span><span class="bn-txt">Treino</span>
    </button>
    <button class="bn-item" id="bnHist" type="button" onclick="verHistorico()">
      <span class="bn-ico">ğŸ“Š</span><span class="bn-txt">HistÃ³rico</span>
    </button>
  </nav>


  <!-- ===== Modal: escolher dia da semana (Montar treino do dia) ===== -->
  <div class="day-modal" id="dayModal" aria-hidden="true">
    <div class="day-modal-card">
      <div class="day-modal-top">
        <h2 class="day-modal-title">Qual dia vocÃª quer montar?</h2>
        <button class="btn ghost" type="button" onclick="fecharSelecaoDiaBuilder()">âœ–</button>
      </div>
      <p class="day-modal-sub">Escolha o dia e monte o treino. Ao salvar, ele fica vinculado ao dia.</p>

      <div class="day-grid">
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('Segunda')">Segunda</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('TerÃ§a')">TerÃ§a</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('Quarta')">Quarta</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('Quinta')">Quinta</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('Sexta')">Sexta</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('SÃ¡bado')">SÃ¡bado</button>
        <button class="day-btn" type="button" onclick="selecionarDiaBuilder('Domingo')">Domingo</button>
      </div>

      <div class="day-modal-bottom">
        <button class="btn" type="button" onclick="selecionarDiaBuilder(null)">Pular (sem dia)</button>
      </div>
    </div>
  </div>

  <!-- âœ… cache-buster no script tambÃ©m -->
  <script defer src="./script.js?v=20260220-1"></script>

  <!-- âŒ IMPORTANTE: por enquanto NÃƒO registrar service worker (cache atrapalha muito) -->
  <!-- <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./service-worker.js");
    }
  </script> -->
</body>
</html>


